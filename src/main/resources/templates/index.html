<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LogWay - Main page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<header>
    <h1>LogWay - –í—Å–ø–æ–º–Ω–∏ —Å–≤–æ–π –ø—É—Ç—å.</h1>
    <div class="buttons">
        <div class="addB1" id="openModal1"><h4>–î–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h4></div>
        <div class="sub"></div>
        <div class="addB2" id="openDataModal"><h4>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ</h4></div>
        <div class="deleteBtn" id="openDeleteModal"><h4>–£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</h4></div>
    </div>
</header>

<div class="main">
    <div class="pare">
    <!-- –õ–µ–≤—ã–π –±–ª–æ–∫ - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π -->
    <div class="col-md-7">
        <div class="blok">
        <div class="table-header-block">
            <h5>üì± –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö</h5>
            <div class="header-buttons">
                <button onclick="loadAppTableCompact()" class="table-btn">üì± 5</button>
                <button onclick="loadAppTable()" class="table-btn">üîÑ</button>
            </div>
        </div>

        <!-- –ü–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π -->
        <div class="app-active">
            <div class="table-scroll">
                <table class="data-table">
                    <thead>
                    <tr>
                        <th>–ü—Ä–æ—Ü–µ—Å—Å</th>
                        <th>–ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ–∫–Ω–∞</th>
                        <th>–î–∞—Ç–∞ –æ—Ç–∫—Ä.</th>
                        <th>–í—Ä–µ–º—è –æ—Ç–∫—Ä.</th>
                        <th>–î–∞—Ç–∞ –∑–∞–∫—Ä.</th>
                        <th>–í—Ä–µ–º—è –∑–∞–∫—Ä.</th>
                    </tr>
                    </thead>
                    <tbody id="appTableBody">
                    <tr><td colspan="6">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="app-active-compact" style="display: none;">
            <div class="table-scroll">
                <table class="data-table">
                    <thead>
                    <tr>
                        <th>–ü—Ä–æ—Ü–µ—Å—Å</th>
                        <th>–û–∫–Ω–æ</th>
                        <th>–î–∞—Ç–∞ –æ—Ç–∫—Ä.</th>
                        <th>–í—Ä–µ–º—è –æ—Ç–∫—Ä.</th>
                        <th>–î–∞—Ç–∞ –∑–∞–∫—Ä.</th>
                        <th>–í—Ä–µ–º—è –∑–∞–∫—Ä.</th>
                    </tr>
                    </thead>
                    <tbody id="appTableBodyCompact">
                    <tr><td colspan="4">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    </div>



    <div class="col-md-4">
        <div class="blok">
        <div class="table-header-block">
            <h5>‚è±Ô∏è –ò—Ç–æ–≥–æ–≤–æ–µ –≤—Ä–µ–º—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö</h5>
            <div class="header-buttons">
                <button onclick="loadAppTimeStatsCompact()" class="table-btn">üì± 5</button>
                <button onclick="loadAppTimeStats()" class="table-btn">üîÑ</button>
            </div>
        </div>
        <div class="app-time">
            <div class="table-scroll">
                <table class="data-table">
                    <thead>
                    <tr>
                        <th>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</th>
                        <th>–°–µ—Å—Å–∏–π</th>
                        <th>–û–±—â–µ–µ –≤—Ä–µ–º—è</th>
                    </tr>
                    </thead>
                    <tbody id="appStatsBody">
                    <tr><td colspan="3">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>



        <div class="app-time-compact" style="display: none;">
            <div class="table-scroll">
                <table class="data-table">
                    <thead>
                    <tr>
                        <th>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</th>
                        <th>–°–µ—Å—Å–∏–π</th>
                        <th>–û–±—â–µ–µ –≤—Ä–µ–º—è</th>
                    </tr>
                    </thead>
                    <tbody id="appStatsBodyCompact">
                    <tr><td colspan="2">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</div>



    <div class="pare">
        <div class="col-md-7">
            <div class="blok">
            <div class="table-header-block">
                <h5>üåê –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ —Å–∞–π—Ç–∞—Ö</h5>
                <div class="header-buttons">
                    <button onclick="loadSiteTableCompact()" class="table-btn">üåê 5</button>
                    <button onclick="loadSiteTable()" class="table-btn">üîÑ</button>
                </div>
            </div>
            <div class="site-active">
                <div class="table-scroll">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>–ê–¥—Ä–µ—Å —Å–∞–π—Ç–∞</th>
                            <th>–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</th>
                            <th>–î–∞—Ç–∞ –æ—Ç–∫—Ä.</th>
                            <th>–í—Ä–µ–º—è –æ—Ç–∫—Ä.</th>
                            <th>–î–∞—Ç–∞ –∑–∞–∫—Ä.</th>
                            <th>–í—Ä–µ–º—è –∑–∞–∫—Ä.</th>
                        </tr>
                        </thead>
                        <tbody id="siteTableBody">
                        <tr><td colspan="7">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="site-active-compact" style="display: none;">
                <div class="table-scroll">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>–ê–¥—Ä–µ—Å —Å–∞–π—Ç–∞</th>
                            <th>–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</th>
                            <th>–î–∞—Ç–∞ –æ—Ç–∫—Ä.</th>
                            <th>–í—Ä–µ–º—è –æ—Ç–∫—Ä.</th>
                            <th>–î–∞—Ç–∞ –∑–∞–∫—Ä.</th>
                            <th>–í—Ä–µ–º—è –∑–∞–∫—Ä.</th>
                        </tr>
                        </thead>
                        <tbody id="siteTableBodyCompact">
                        <tr><td colspan="3">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        </div>


        <div class="col-md-4">
            <div class="blok">
            <div class="table-header-block">
                <h5>‚è±Ô∏è –ò—Ç–æ–≥–æ–≤–æ–µ –≤—Ä–µ–º—è –Ω–∞ —Å–∞–π—Ç–∞—Ö</h5>
                <div class="header-buttons">
                    <button onclick="loadSiteTimeStatsCompact()" class="table-btn">üåê 5</button>
                    <button onclick="loadSiteTimeStats()" class="table-btn">üîÑ</button>
                </div>
            </div>
            <div class="site-time">
                <div class="table-scroll">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>–°–∞–π—Ç</th>
                            <th>–ü–æ—Å–µ—â–µ–Ω–∏–π</th>
                            <th>–û–±—â–µ–µ –≤—Ä–µ–º—è</th>
                        </tr>
                        </thead>
                        <tbody id="siteStatsBody">
                        <tr><td colspan="3">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>


            <div class="site-time-compact" style="display: none;">
                <div class="table-scroll">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>–°–∞–π—Ç</th>
                            <th>–ü–æ—Å–µ—â–µ–Ω–∏–π</th>
                            <th>–û–±—â–µ–µ –≤—Ä–µ–º—è</th>
                        </tr>
                        </thead>
                        <tbody id="siteStatsBodyCompact">
                        <tr><td colspan="2">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    </div>

    <div class="solo">
        <div class="col-md-11">
            <div class="blok">
            <div class="table-header-block">
                <h5>üì∫ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ YouTube</h5>
                <div class="header-buttons">
                    <button onclick="loadYouTubeTableCompact()" class="table-btn">üì∫ 5</button>
                    <button onclick="loadYouTubeTable()" class="table-btn">üîÑ</button>
                </div>
            </div>
            <div class="youtube-active">
                <div class="table-scroll">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>–í–∏–¥–µ–æ</th>
                            <th>–ê–≤—Ç–æ—Ä</th>
                            <th>–°–∞–π—Ç</th>
                            <th>–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ</th>
                            <th>–î–ª–∏—Ç. –≤–∏–¥–µ–æ</th>
                            <th>–î–∞—Ç–∞ –Ω–∞—á.</th>
                            <th>–í—Ä–µ–º—è –Ω–∞—á.</th>
                            <th>–î–∞—Ç–∞ –æ–∫.</th>
                            <th>–í—Ä–µ–º—è –æ–∫.</th>
                        </tr>
                        </thead>
                        <tbody id="youtubeTableBody">
                        <tr><td colspan="9">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="youtube-active-compact" style="display: none;">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>–í–∏–¥–µ–æ</th>
                            <th>–ê–≤—Ç–æ—Ä</th>
                            <th>–°–∞–π—Ç</th>
                            <th>–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ</th>
                            <th>–î–ª–∏—Ç. –≤–∏–¥–µ–æ</th>
                            <th>–î–∞—Ç–∞ –Ω–∞—á.</th>
                            <th>–í—Ä–µ–º—è –Ω–∞—á.</th>
                            <th>–î–∞—Ç–∞ –æ–∫.</th>
                            <th>–í—Ä–µ–º—è –æ–∫.</th>
                        </tr>
                        </thead>
                        <tbody id="youtubeTableBodyCompact">
                        <tr><td colspan="3">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal-overlay" id="dataModal">
    <div class="modal-container">
        <div class="modal-header">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É</h3>
        </div>
        <div class="modal-body scrollable">
            <div class="form-group">
                <label for="tableSelect">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É:</label>
                <select id="tableSelect" class="form-select" onchange="changeTable()">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É --</option>
                    <option value="apps">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è (apps)</option>
                    <option value="sites">–°–∞–π—Ç—ã (sites)</option>
                    <option value="videos">–í–∏–¥–µ–æ YouTube (youtube_videos)</option>
                    <option value="app_sessions">–°–µ—Å—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (app_sessions)</option>
                    <option value="page_sessions">–°–µ—Å—Å–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü (page_sessions)</option>
                    <option value="view_sessions">–°–µ—Å—Å–∏–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (views_sessions)</option>
                </select>
            </div>
            <form id="dataForm">
                <div id="formFields">
                    <p class="hint">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª–µ–π</p>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn-secondary" id="cancelBtn">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn-primary" id="saveBtn" disabled>–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
    </div>
</div>


<div class="modal-overlay" id="deleteModal">
    <div class="modal-container">
        <div class="modal-header">
            <h3>–£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h3>
        </div>
        <div class="modal-body scrollable">
            <div class="form-group">
                <label for="deleteTableSelect">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É:</label>
                <select id="deleteTableSelect" class="form-select" onchange="changeDeleteTable()">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É --</option>
                    <option value="apps">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è (apps)</option>
                    <option value="sites">–°–∞–π—Ç—ã (sites)</option>
                    <option value="videos">–í–∏–¥–µ–æ YouTube (youtube_videos)</option>
                    <option value="app_sessions">–°–µ—Å—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (app_sessions)</option>
                    <option value="page_sessions">–°–µ—Å—Å–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü (page_sessions)</option>
                    <option value="view_sessions">–°–µ—Å—Å–∏–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (views_sessions)</option>
                    <option value="ALL_TABLES">–í–°–ï –¢–ê–ë–õ–ò–¶–´ (–ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞)</option>
                </select>
            </div>
            <div id="deleteSpecificSection" style="display: none;">
                <div class="form-group">
                    <label for="idInput">ID –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:</label>
                    <input type="text" id="idInput" class="form-input"
                           placeholder="–í–≤–µ–¥–∏—Ç–µ ID –∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π">
                    <small class="text-muted">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –í–°–ï –∑–∞–ø–∏—Å–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã</small>
                </div>
                <div id="deletePreview" style="margin-top: 20px; display: none;">
                    <h6>–ë—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∑–∞–ø–∏—Å–∏:</h6>
                    <div class="preview-box" style="max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 4px;">
                        <p id="previewText">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                    </div>
                </div>
            </div>

            <div id="deleteAllSection" style="display: none;">
                <div class="alert alert-danger">
                    <strong>‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï!</strong><br>
                    –ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ –í–°–Å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:<br>
                    <ul style="margin-top: 10px; margin-bottom: 10px;">
                        <li>–í—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
                        <li>–í—Å–µ —Å–∞–π—Ç—ã</li>
                        <li>–í—Å–µ YouTube –≤–∏–¥–µ–æ</li>
                        <li>–í—Å–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</li>
                        <li>–í—Å–µ —Å–µ—Å—Å–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü</li>
                        <li>–í—Å–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</li>
                    </ul>
                    <strong>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!</strong>
                </div>
            </div>

            <div class="alert alert-warning" id="generalWarning" style="display: none; margin-top: 20px;">
                <strong>‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:</strong> –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn-secondary" id="deleteCancelBtn">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn-danger" id="deleteBtn" disabled>–£–¥–∞–ª–∏—Ç—å</button>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/modal.js}"></script>
</body>
</html>